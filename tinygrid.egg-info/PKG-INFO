Metadata-Version: 2.4
Name: tinygrid
Version: 0.1.0
Summary: A unified Python SDK for accessing grid data from all major US Independent System Operators (ISOs)
Author-email: Kevin Kenyon <kevin@poweredbylight.com>
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: pyercot
Requires-Dist: python-dotenv>=1.0.0
Provides-Extra: dev
Requires-Dist: pytest>=7.4.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Requires-Dist: pytest-cov>=4.1.0; extra == "dev"
Requires-Dist: ruff>=0.1.0; extra == "dev"
Requires-Dist: mypy>=1.5.0; extra == "dev"

# Tiny Grid

> A unified Python SDK for accessing grid data from all major US Independent System Operators (ISOs)

[![Python 3.10+](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

**Tiny Grid** provides a clean, consistent interface for accessing real-time and historical grid data from major US electricity market operators. No more wrestling with different API formats, authentication methods, or data structuresâ€”just one simple SDK for all your grid data needs.

## ğŸ¯ Vision

The US electricity grid is managed by multiple Independent System Operators (ISOs), each with their own APIs, data formats, and authentication mechanisms. **Tiny Grid** abstracts away these differences, providing a unified interface that makes it easy to:

- **Query grid data** across multiple ISOs with consistent methods
- **Build applications** that work seamlessly across different markets
- **Focus on your logic** instead of API integration details
- **Scale easily** as new ISOs are added to the SDK

## ğŸš€ Current Status

### âœ… Supported ISOs

- **ERCOT** (Electric Reliability Council of Texas) - Full API coverage with 100+ endpoints

### ğŸ”œ Coming Soon

- **CAISO** (California Independent System Operator)
- **PJM** (Pennsylvania-New Jersey-Maryland Interconnection)
- **NYISO** (New York Independent System Operator)
- **ISO-NE** (ISO New England)
- **MISO** (Midcontinent Independent System Operator)
- **SPP** (Southwest Power Pool)

## ğŸ“¦ Installation

```bash
# Clone the repository
git clone https://github.com/yourusername/tiny-grid.git
cd tiny-grid

# Install ERCOT client (currently available)
cd pyercot
uv pip install -e .
```

> **Note**: The unified `tinygrid` package is coming soon. Currently, ERCOT support is available via the `pyercot` package.

## ğŸ¨ The Tiny Grid Difference

**Tiny Grid** abstracts away all the complexity of ISO APIs. You don't need to know about endpoint paths, API categories, or raw HTTP clientsâ€”just use simple, intuitive methods.

### ğŸš§ Current State: Raw API Client

Right now, you can access ERCOT data through the generated API client, but it requires knowledge of the underlying API structure:

```python
# âŒ Current: Raw API client (what we have now)
from pyercot import Client
from pyercot.api.np3_565_cd import lf_by_model_weather_zone

# You need to know the API structure (np3_565_cd)
# You need to manage the client lifecycle
# You need to pass the client to every call
client = Client(base_url="https://api.ercot.com")

with client:
    response = lf_by_model_weather_zone.sync(
        client=client,
        delivery_date_from="2024-01-01",
        delivery_date_to="2024-01-07",
        model="WEATHERZONE"
    )
```

### âœ¨ Future State: Clean SDK Interface

**Coming soon**: A clean, intuitive SDK that hides all the complexity:

```python
# âœ… Future: Clean SDK (what we're building)
from tinygrid import ERCOT

# Simple initialization - no URLs, no client management
ercot = ERCOT()

# Intuitive method names - no need to know API structure
forecast = ercot.get_load_forecast(
    start_date="2024-01-01",
    end_date="2024-01-07",
    model="WEATHERZONE"
)

# Clean data access - no nested response objects
for record in forecast:
    print(f"Zone: {record.zone}, Load: {record.load}")

# Multiple ISOs with the same interface
from tinygrid import CAISO, PJM

caiso = CAISO()
pjm = PJM()

# Same methods work across all ISOs!
caiso_forecast = caiso.get_load_forecast(...)
pjm_forecast = pjm.get_load_forecast(...)
```

## ğŸƒ Quick Start

### Using the Raw API Client (Current)

If you need to use the current raw API client while we build the SDK:

```python
from pyercot import Client
from pyercot.api.np3_565_cd import lf_by_model_weather_zone

client = Client(base_url="https://api.ercot.com")

with client:
    response = lf_by_model_weather_zone.sync(
        client=client,
        delivery_date_from="2024-01-01",
        delivery_date_to="2024-01-07",
        model="WEATHERZONE"
    )
    
    if response:
        print(f"Found {len(response.report_data)} records")
```

> **Note**: The raw API client is available for advanced use cases, but the SDK abstraction layer is our primary focus. See [pyercot/README.md](pyercot/README.md) for detailed raw API documentation.

## ğŸ“š SDK Features (Coming Soon)

### ğŸ¨ Unified Interface Across All ISOs

The SDK provides a consistent interface regardless of which ISO you're querying:

```python
from tinygrid import ERCOT, CAISO, PJM

# Same interface, different ISOs
ercot = ERCOT()
caiso = CAISO()
pjm = PJM()

# Same methods work everywhere
ercot_forecast = ercot.get_load_forecast(...)
caiso_forecast = caiso.get_load_forecast(...)
pjm_forecast = pjm.get_load_forecast(...)
```

### ğŸ”„ Sync and Async Support

All SDK methods support both synchronous and asynchronous operations:

```python
from tinygrid import ERCOT

ercot = ERCOT()

# Synchronous
forecast = ercot.get_load_forecast(start_date="2024-01-01")

# Asynchronous
forecast = await ercot.get_load_forecast_async(start_date="2024-01-01")
```

### ğŸ“Š Clean Data Models

No more nested response objectsâ€”just clean, intuitive data structures:

```python
from tinygrid import ERCOT

ercot = ERCOT()
forecast = ercot.get_load_forecast(...)

# Direct access to data - no .report_data, no .parsed
for record in forecast:
    print(record.date, record.load, record.zone)

# Or as a pandas DataFrame
df = forecast.to_dataframe()
```

### ğŸ›¡ï¸ Simplified Error Handling

Clean, consistent error handling across all ISOs:

```python
from tinygrid import ERCOT, GridError

ercot = ERCOT()

try:
    forecast = ercot.get_load_forecast(...)
except GridError as e:
    print(f"Grid API error: {e}")
```

### ğŸ¯ What Gets Abstracted Away

The SDK handles all the complexity you don't need to worry about:

- âŒ **No more** endpoint paths (`/np3-565-cd/lf_by_model_weather_zone`)
- âŒ **No more** API category modules (`np3_565_cd`, `np6_345_cd`)
- âŒ **No more** client lifecycle management (`with client:`)
- âŒ **No more** passing clients to every call
- âŒ **No more** nested response objects (`response.report_data`)
- âŒ **No more** ISO-specific URL management

Just clean, intuitive methods that work the same way across all ISOs.

## ğŸ—ï¸ Architecture

### SDK Layer Architecture

Tiny Grid uses a layered architecture that abstracts away API complexity:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         SDK Interface Layer             â”‚  â† What users interact with
â”‚  (ERCOT, CAISO, PJM, etc.)             â”‚     Clean, intuitive methods
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Abstraction & Transformation        â”‚  â† Business logic layer
â”‚  (Data normalization, caching, etc.)     â”‚     Handles ISO differences
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Generated API Clients               â”‚  â† Raw API clients
â”‚  (pyercot, pycaiso, etc.)                â”‚     Auto-generated from OpenAPI
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ISO APIs                          â”‚  â† External APIs
â”‚  (ERCOT, CAISO, PJM, etc.)               â”‚     What we're abstracting
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Project Structure

```
tiny-grid/
â”œâ”€â”€ configs/              # ISO-specific API configurations
â”‚   â””â”€â”€ ercot/
â”‚       â”œâ”€â”€ config.yaml   # Generation config
â”‚       â””â”€â”€ ercot-api.json # OpenAPI specification
â”œâ”€â”€ pyercot/              # ERCOT raw API client (generated)
â”‚   â””â”€â”€ pyercot/
â”‚       â”œâ”€â”€ api/          # API endpoint modules (raw)
â”‚       â”œâ”€â”€ models/       # Data models
â”‚       â”œâ”€â”€ client.py     # HTTP client
â”‚       â””â”€â”€ errors.py    # Error types
â”œâ”€â”€ tinygrid/             # SDK abstraction layer (coming soon)
â”‚   â”œâ”€â”€ ercot.py          # ERCOT SDK interface
â”‚   â”œâ”€â”€ caiso.py          # CAISO SDK interface
â”‚   â”œâ”€â”€ base.py           # Base ISO client
â”‚   â””â”€â”€ models/           # Unified data models
â””â”€â”€ README.md
```

### How It Works

1. **Raw API Clients** (`pyercot`, `pycaiso`, etc.) - Auto-generated from OpenAPI specs
   - Handles HTTP communication
   - Provides type-safe models
   - Exposes all endpoints

2. **SDK Abstraction Layer** (`tinygrid`) - Built on top of raw clients
   - Provides intuitive method names
   - Normalizes data across ISOs
   - Handles authentication, retries, caching
   - Hides API implementation details

3. **User Code** - Simple, clean, and ISO-agnostic
   - No knowledge of endpoint paths needed
   - Same interface across all ISOs
   - Focus on your business logic

## ğŸ” Available Endpoints

### ERCOT

ERCOT support includes 100+ endpoints covering:

- **Load Forecasting** - Seven-day forecasts by model, weather zone, and study area
- **Real-Time Operations** - Actual system load, LMPs, SCED data
- **Day-Ahead Market** - DAM prices, settlements, shadow prices
- **Ancillary Services** - AS offers, awards, self-arranged services
- **Outage Management** - Generation and transmission outages
- **Price Corrections** - RTM and DAM price corrections

See the [ERCOT API Documentation](pyercot/README.md) for a complete list.

## ğŸ› ï¸ Development

### Prerequisites

- Python 3.10+
- [uv](https://github.com/astral-sh/uv)

### Setup

```bash
# Clone the repository
git clone https://github.com/yourusername/tiny-grid.git
cd tiny-grid

# Install dependencies
uv sync
```

### Running Tests

```bash
# Run all tests
pytest

# Run with coverage
pytest --cov=pyercot --cov-report=html
```

### Code Quality

```bash
# Format code
ruff format .

# Lint code
ruff check .

# Type checking
mypy pyercot
```

## ğŸ¤ Contributing

We welcome contributions! Whether you're adding support for a new ISO, improving documentation, or fixing bugs, your help makes Tiny Grid better for everyone.

### Adding a New ISO

1. **Obtain the ISO's OpenAPI specification**
2. **Create a configuration** in `configs/{iso_name}/`
3. **Generate the client** using the code generation tools
4. **Add integration tests** for key endpoints
5. **Update documentation** with examples

See [CONTRIBUTING.md](CONTRIBUTING.md) for detailed guidelines.

## ğŸ“– Documentation

- [ERCOT Client Documentation](pyercot/README.md) - Detailed usage guide for ERCOT API
- [API Reference](https://tiny-grid.readthedocs.io) (coming soon)
- [Examples](examples/) (coming soon)

For detailed ERCOT API documentation, see the [pyercot README](pyercot/README.md).

## ğŸ—ºï¸ Roadmap

### Phase 1: Foundation âœ…
- [x] ERCOT raw API client (100+ endpoints)
- [x] Type-safe models and error handling

### Phase 2: SDK Abstraction ğŸš§ (In Progress)
- [ ] ERCOT SDK interface (`tinygrid.ERCOT`)
- [ ] Unified data models across ISOs
- [ ] Simplified method names and signatures
- [ ] Automatic client lifecycle management

### Phase 3: Multi-ISO Support
- [ ] CAISO integration
- [ ] PJM integration
- [ ] NYISO integration
- [ ] ISO-NE integration
- [ ] MISO integration
- [ ] SPP integration

### Phase 4: Advanced Features
- [ ] Data caching and rate limiting
- [ ] WebSocket support for real-time data
- [ ] Pandas DataFrame integration
- [ ] Query builder for complex filters
- [ ] Batch operations across ISOs

## ğŸ“ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ™ Acknowledgments

- Built with [httpx](https://www.python-httpx.org/) for robust HTTP client functionality
- Uses [attrs](https://www.attrs.org/) for clean data classes
- Inspired by the need for better grid data access tools

## ğŸ“§ Contact

- **Author**: Kevin Kenyon
- **Email**: kevin@poweredbylight.com
- **GitHub**: [@yourusername](https://github.com/kvkenyon)

---

**Made with âš¡ for the grid data community**

